(function(){
    angular.module('jmh.couchbase-api.mock', [])
    .factory('couchbaseApi', couchbaseApi);

    function couchbaseApi($q){
        var api = {
            mock: {
                setRejectRetrieveBuckets: setRejectRetrieveBuckets,
                setRejectRetrieveDocuments: setRejectRetrieveDocuments,
                setRejectRetrieveDocument: setRejectRetrieveDocument,
                setRejectUpdateDocument: setRejectUpdateDocument,
                setRejectCreateDocument: setRejectCreateDocument,
                setDuplicatedDocumentKey: setDuplicatedDocumentKey,
                setRejectDeleteDocument: setRejectDeleteDocument
            },
            retrieveBuckets: retrieveBuckets,
            retrieveBucket: retrieveBucket,
            createBucket: createBucket,
            deleteBucket: deleteBucket,
            retrieveDocuments: retrieveDocuments,
            retrieveDocument: retrieveDocument,
            createDocument: createDocument,
            deleteDocument: deleteDocument,
            updateDocument: updateDocument
        };

        var _rejectRetrieveBuckets = false,
            _rejectRetrieveDocuments = false,
            _rejectRetrieveDocument = false,
            _rejectUpdateDocument = false,
            _rejectCreateDocument = false,
            _duplicatedDocumentKey = false,
            _rejectDeleteDocument = false;

        function setRejectRetrieveBuckets(rejectRetrieveBuckets){
            _rejectRetrieveBuckets = rejectRetrieveBuckets;
        }

        function setRejectRetrieveDocuments(rejectRetrieveDocuments){
            _rejectRetrieveDocuments = rejectRetrieveDocuments;
        }

        function setRejectRetrieveDocument(rejectRetrieveDocument){
            _rejectRetrieveDocument = rejectRetrieveDocument;
        }

        function setRejectUpdateDocument(rejectUpdateDocument){
            _rejectUpdateDocument = rejectUpdateDocument;
        }

        function setRejectCreateDocument(rejectCreateDocument){
            _rejectCreateDocument = rejectCreateDocument;
        }

        function setDuplicatedDocumentKey(duplicatedDocumentKey){
            _duplicatedDocumentKey = duplicatedDocumentKey;
        }

        function setRejectDeleteDocument(rejectDeleteDocument){
            _rejectDeleteDocument = rejectDeleteDocument;
        }

        function retrieveBuckets(successCallback, errorCallback){
            var response;

            if(_rejectRetrieveBuckets){
                errorCallback();
            }
            else{
                response = [{"name":"default","bucketType":"memcached","authType":"sasl","saslPassword":"","proxyPort":0,"replicaIndex":true,"uri":"/pools/default/buckets/default?bucket_uuid=f28885605d0904abfe637f008547f0e8","streamingUri":"/pools/default/bucketsStreaming/default?bucket_uuid=f28885605d0904abfe637f008547f0e8","localRandomKeyUri":"/pools/default/buckets/default/localRandomKey","controllers":{"compactAll":"/pools/default/buckets/default/controller/compactBucket","compactDB":"/pools/default/buckets/default/controller/compactDatabases","purgeDeletes":"/pools/default/buckets/default/controller/unsafePurgeBucket","startRecovery":"/pools/default/buckets/default/controller/startRecovery"},"nodes":[{"systemStats":{"cpu_utilization_rate":8,"swap_total":0,"swap_used":0,"mem_total":4018991104,"mem_free":2155851776},"interestingStats":{"cmd_get":0,"couch_docs_actual_disk_size":266907088,"couch_docs_data_size":261164142,"couch_views_actual_disk_size":1273778,"couch_views_data_size":654523,"curr_items":10760,"curr_items_tot":10589,"ep_bg_fetched":0,"get_hits":0,"mem_used":259733687,"ops":0,"vb_replica_curr_items":0},"uptime":"2327875","memoryTotal":4018991104,"memoryFree":2155851776,"mcdMemoryReserved":3066,"mcdMemoryAllocated":3066,"replication":1,"clusterMembership":"active","recoveryType":"none","status":"healthy","otpNode":"ns_1@qa-couch-snow.company.tk","thisNode":true,"hostname":"qa-couch-snow.company.tk:8091","clusterCompatibility":196608,"version":"3.0.2-1603-rel-enterprise","os":"x86_64-unknown-linux-gnu","ports":{"sslProxy":11214,"httpsMgmt":18091,"httpsCAPI":18092,"proxy":11211,"direct":11210}}],"stats":{"uri":"/pools/default/buckets/default/stats","directoryURI":"/pools/default/buckets/default/statsDirectory","nodeStatsListURI":"/pools/default/buckets/default/nodes"},"ddocs":{"uri":"/pools/default/buckets/default/ddocs"},"nodeLocator":"ketama","fastWarmupSettings":false,"autoCompactionSettings":false,"uuid":"f28885605d0904abfe637f008547f0e8","replicaNumber":0,"threadsNumber":3,"quota":{"ram":1073741824,"rawRAM":1073741824},"basicStats":{"quotaPercentUsed":0.017325486987829,"opsPerSec":0,"hitRatio":0,"itemCount":171,"memUsed":186031},"evictionPolicy":"valueOnly","bucketCapabilitiesVer":"","bucketCapabilities":["cbhello","nodesExt"]},{"name":"company","bucketType":"membase","authType":"none","saslPassword":"","proxyPort":11222,"replicaIndex":false,"uri":"/pools/default/buckets/company?bucket_uuid=41302698e9b20fc8e874d6aa95f7b88d","streamingUri":"/pools/default/bucketsStreaming/company?bucket_uuid=41302698e9b20fc8e874d6aa95f7b88d","localRandomKeyUri":"/pools/default/buckets/company/localRandomKey","controllers":{"flush":"/pools/default/buckets/company/controller/doFlush","compactAll":"/pools/default/buckets/company/controller/compactBucket","compactDB":"/pools/default/buckets/default/controller/compactDatabases","purgeDeletes":"/pools/default/buckets/company/controller/unsafePurgeBucket","startRecovery":"/pools/default/buckets/company/controller/startRecovery"},"nodes":[{"couchApiBaseHTTPS":"https://qa-couch-snow.company.tk:18092/company%2B41302698e9b20fc8e874d6aa95f7b88d","couchApiBase":"http://qa-couch-snow.company.tk:8092/company%2B41302698e9b20fc8e874d6aa95f7b88d","systemStats":{"cpu_utilization_rate":8,"swap_total":0,"swap_used":0,"mem_total":4018991104,"mem_free":2155851776},"interestingStats":{"cmd_get":0,"couch_docs_actual_disk_size":266907088,"couch_docs_data_size":261164142,"couch_views_actual_disk_size":1273778,"couch_views_data_size":654523,"curr_items":10760,"curr_items_tot":10589,"ep_bg_fetched":0,"get_hits":0,"mem_used":259733687,"ops":0,"vb_replica_curr_items":0},"uptime":"2327875","memoryTotal":4018991104,"memoryFree":2155851776,"mcdMemoryReserved":3066,"mcdMemoryAllocated":3066,"replication":0,"clusterMembership":"active","recoveryType":"none","status":"healthy","otpNode":"ns_1@qa-couch-snow.company.tk","thisNode":true,"hostname":"qa-couch-snow.company.tk:8091","clusterCompatibility":196608,"version":"3.0.2-1603-rel-enterprise","os":"x86_64-unknown-linux-gnu","ports":{"sslProxy":11214,"httpsMgmt":18091,"httpsCAPI":18092,"proxy":11211,"direct":11210}}],"stats":{"uri":"/pools/default/buckets/company/stats","directoryURI":"/pools/default/buckets/company/statsDirectory","nodeStatsListURI":"/pools/default/buckets/company/nodes"},"ddocs":{"uri":"/pools/default/buckets/company/ddocs"},"nodeLocator":"vbucket","fastWarmupSettings":false,"autoCompactionSettings":false,"uuid":"41302698e9b20fc8e874d6aa95f7b88d","vBucketServerMap":{"hashAlgorithm":"CRC","numReplicas":1,"serverList":["qa-couch-snow.company.tk:11210"],"vBucketMap":[]},"replicaNumber":1,"threadsNumber":3,"quota":{"ram":268435456,"rawRAM":268435456},"basicStats":{"quotaPercentUsed":34.017246961594,"opsPerSec":0,"diskFetches":0,"itemCount":10398,"diskUsed":104002363,"dataUsed":97766400,"memUsed":91314352},"evictionPolicy":"valueOnly","bucketCapabilitiesVer":"","bucketCapabilities":["cbhello","touch","couchapi","cccp","xdcrCheckpointing","nodesExt"]},{"name":"company-infraestructure","bucketType":"membase","authType":"sasl","saslPassword":"","proxyPort":0,"replicaIndex":false,"uri":"/pools/default/buckets/company-infraestructure?bucket_uuid=c9d1c2ae7c9d25b6a67badee7f398208","streamingUri":"/pools/default/bucketsStreaming/company-infraestructure?bucket_uuid=c9d1c2ae7c9d25b6a67badee7f398208","localRandomKeyUri":"/pools/default/buckets/company-infraestructure/localRandomKey","controllers":{"compactAll":"/pools/default/buckets/company-infraestructure/controller/compactBucket","compactDB":"/pools/default/buckets/default/controller/compactDatabases","purgeDeletes":"/pools/default/buckets/company-infraestructure/controller/unsafePurgeBucket","startRecovery":"/pools/default/buckets/company-infraestructure/controller/startRecovery"},"nodes":[{"couchApiBaseHTTPS":"https://qa-couch-snow.company.tk:18092/company-infraestructure%2Bc9d1c2ae7c9d25b6a67badee7f398208","couchApiBase":"http://qa-couch-snow.company.tk:8092/company-infraestructure%2Bc9d1c2ae7c9d25b6a67badee7f398208","systemStats":{"cpu_utilization_rate":8,"swap_total":0,"swap_used":0,"mem_total":4018991104,"mem_free":2155851776},"interestingStats":{"cmd_get":0,"couch_docs_actual_disk_size":266907088,"couch_docs_data_size":261164142,"couch_views_actual_disk_size":1273778,"couch_views_data_size":654523,"curr_items":10760,"curr_items_tot":10589,"ep_bg_fetched":0,"get_hits":0,"mem_used":259733687,"ops":0,"vb_replica_curr_items":0},"uptime":"2327875","memoryTotal":4018991104,"memoryFree":2155851776,"mcdMemoryReserved":3066,"mcdMemoryAllocated":3066,"replication":0,"clusterMembership":"active","recoveryType":"none","status":"healthy","otpNode":"ns_1@qa-couch-snow.company.tk","thisNode":true,"hostname":"qa-couch-snow.company.tk:8091","clusterCompatibility":196608,"version":"3.0.2-1603-rel-enterprise","os":"x86_64-unknown-linux-gnu","ports":{"sslProxy":11214,"httpsMgmt":18091,"httpsCAPI":18092,"proxy":11211,"direct":11210}}],"stats":{"uri":"/pools/default/buckets/company-infraestructure/stats","directoryURI":"/pools/default/buckets/company-infraestructure/statsDirectory","nodeStatsListURI":"/pools/default/buckets/company-infraestructure/nodes"},"ddocs":{"uri":"/pools/default/buckets/company-infraestructure/ddocs"},"nodeLocator":"vbucket","fastWarmupSettings":false,"autoCompactionSettings":false,"uuid":"c9d1c2ae7c9d25b6a67badee7f398208","vBucketServerMap":{"hashAlgorithm":"CRC","numReplicas":1,"serverList":["qa-couch-snow.company.tk:11210"],"vBucketMap":[]},"replicaNumber":1,"threadsNumber":3,"quota":{"ram":377487360,"rawRAM":377487360},"basicStats":{"quotaPercentUsed":8.9879014756944,"opsPerSec":0,"diskFetches":0,"itemCount":1,"diskUsed":42193845,"dataUsed":42162221,"memUsed":33928192},"evictionPolicy":"valueOnly","bucketCapabilitiesVer":"","bucketCapabilities":["cbhello","touch","couchapi","cccp","xdcrCheckpointing","nodesExt"]},{"name":"company-oauth2","bucketType":"membase","authType":"sasl","saslPassword":"","proxyPort":0,"replicaIndex":false,"uri":"/pools/default/buckets/company-oauth2?bucket_uuid=c65b2a0ef8e06b4e1b2bc13dadf7bd7e","streamingUri":"/pools/default/bucketsStreaming/company-oauth2?bucket_uuid=c65b2a0ef8e06b4e1b2bc13dadf7bd7e","localRandomKeyUri":"/pools/default/buckets/company-oauth2/localRandomKey","controllers":{"flush":"/pools/default/buckets/company-oauth2/controller/doFlush","compactAll":"/pools/default/buckets/company-oauth2/controller/compactBucket","compactDB":"/pools/default/buckets/default/controller/compactDatabases","purgeDeletes":"/pools/default/buckets/company-oauth2/controller/unsafePurgeBucket","startRecovery":"/pools/default/buckets/company-oauth2/controller/startRecovery"},"nodes":[{"couchApiBaseHTTPS":"https://qa-couch-snow.company.tk:18092/company-oauth2%2Bc65b2a0ef8e06b4e1b2bc13dadf7bd7e","couchApiBase":"http://qa-couch-snow.company.tk:8092/company-oauth2%2Bc65b2a0ef8e06b4e1b2bc13dadf7bd7e","systemStats":{"cpu_utilization_rate":8,"swap_total":0,"swap_used":0,"mem_total":4018991104,"mem_free":2155851776},"interestingStats":{"cmd_get":0,"couch_docs_actual_disk_size":266907088,"couch_docs_data_size":261164142,"couch_views_actual_disk_size":1273778,"couch_views_data_size":654523,"curr_items":10760,"curr_items_tot":10589,"ep_bg_fetched":0,"get_hits":0,"mem_used":259733687,"ops":0,"vb_replica_curr_items":0},"uptime":"2327875","memoryTotal":4018991104,"memoryFree":2155851776,"mcdMemoryReserved":3066,"mcdMemoryAllocated":3066,"replication":1,"clusterMembership":"active","recoveryType":"none","status":"healthy","otpNode":"ns_1@qa-couch-snow.company.tk","thisNode":true,"hostname":"qa-couch-snow.company.tk:8091","clusterCompatibility":196608,"version":"3.0.2-1603-rel-enterprise","os":"x86_64-unknown-linux-gnu","ports":{"sslProxy":11214,"httpsMgmt":18091,"httpsCAPI":18092,"proxy":11211,"direct":11210}}],"stats":{"uri":"/pools/default/buckets/company-oauth2/stats","directoryURI":"/pools/default/buckets/company-oauth2/statsDirectory","nodeStatsListURI":"/pools/default/buckets/company-oauth2/nodes"},"ddocs":{"uri":"/pools/default/buckets/company-oauth2/ddocs"},"nodeLocator":"vbucket","fastWarmupSettings":false,"autoCompactionSettings":false,"uuid":"c65b2a0ef8e06b4e1b2bc13dadf7bd7e","vBucketServerMap":{"hashAlgorithm":"CRC","numReplicas":0,"serverList":["qa-couch-snow.company.tk:11210"],"vBucketMap":[]},"replicaNumber":0,"threadsNumber":3,"quota":{"ram":134217728,"rawRAM":134217728},"basicStats":{"quotaPercentUsed":25.027990341187,"opsPerSec":0,"diskFetches":0,"itemCount":15,"diskUsed":33541482,"dataUsed":33435130,"memUsed":33592000},"evictionPolicy":"valueOnly","bucketCapabilitiesVer":"","bucketCapabilities":["cbhello","touch","couchapi","cccp","xdcrCheckpointing","nodesExt"]},{"name":"company-payment-config","bucketType":"membase","authType":"sasl","saslPassword":"","proxyPort":0,"replicaIndex":false,"uri":"/pools/default/buckets/company-payment-config?bucket_uuid=0d78a0d41c577a396aeab646d8a26702","streamingUri":"/pools/default/bucketsStreaming/company-payment-config?bucket_uuid=0d78a0d41c577a396aeab646d8a26702","localRandomKeyUri":"/pools/default/buckets/company-payment-config/localRandomKey","controllers":{"flush":"/pools/default/buckets/company-payment-config/controller/doFlush","compactAll":"/pools/default/buckets/company-payment-config/controller/compactBucket","compactDB":"/pools/default/buckets/default/controller/compactDatabases","purgeDeletes":"/pools/default/buckets/company-payment-config/controller/unsafePurgeBucket","startRecovery":"/pools/default/buckets/company-payment-config/controller/startRecovery"},"nodes":[{"couchApiBaseHTTPS":"https://qa-couch-snow.company.tk:18092/company-payment-config%2B0d78a0d41c577a396aeab646d8a26702","couchApiBase":"http://qa-couch-snow.company.tk:8092/company-payment-config%2B0d78a0d41c577a396aeab646d8a26702","systemStats":{"cpu_utilization_rate":8,"swap_total":0,"swap_used":0,"mem_total":4018991104,"mem_free":2155851776},"interestingStats":{"cmd_get":0,"couch_docs_actual_disk_size":266907088,"couch_docs_data_size":261164142,"couch_views_actual_disk_size":1273778,"couch_views_data_size":654523,"curr_items":10760,"curr_items_tot":10589,"ep_bg_fetched":0,"get_hits":0,"mem_used":259733687,"ops":0,"vb_replica_curr_items":0},"uptime":"2327875","memoryTotal":4018991104,"memoryFree":2155851776,"mcdMemoryReserved":3066,"mcdMemoryAllocated":3066,"replication":0,"clusterMembership":"active","recoveryType":"none","status":"healthy","otpNode":"ns_1@qa-couch-snow.company.tk","thisNode":true,"hostname":"qa-couch-snow.company.tk:8091","clusterCompatibility":196608,"version":"3.0.2-1603-rel-enterprise","os":"x86_64-unknown-linux-gnu","ports":{"sslProxy":11214,"httpsMgmt":18091,"httpsCAPI":18092,"proxy":11211,"direct":11210}}],"stats":{"uri":"/pools/default/buckets/company-payment-config/stats","directoryURI":"/pools/default/buckets/company-payment-config/statsDirectory","nodeStatsListURI":"/pools/default/buckets/company-payment-config/nodes"},"ddocs":{"uri":"/pools/default/buckets/company-payment-config/ddocs"},"nodeLocator":"vbucket","fastWarmupSettings":false,"autoCompactionSettings":false,"uuid":"0d78a0d41c577a396aeab646d8a26702","vBucketServerMap":{"hashAlgorithm":"CRC","numReplicas":1,"serverList":["qa-couch-snow.company.tk:11210"],"vBucketMap":[]},"replicaNumber":1,"threadsNumber":3,"quota":{"ram":104857600,"rawRAM":104857600},"basicStats":{"quotaPercentUsed":31.67130279541,"opsPerSec":0,"diskFetches":0,"itemCount":80,"diskUsed":14470887,"dataUsed":13989752,"memUsed":33209768},"evictionPolicy":"valueOnly","bucketCapabilitiesVer":"","bucketCapabilities":["cbhello","touch","couchapi","cccp","xdcrCheckpointing","nodesExt"]},{"name":"company-payment-order","bucketType":"membase","authType":"sasl","saslPassword":"","proxyPort":0,"replicaIndex":false,"uri":"/pools/default/buckets/company-payment-order?bucket_uuid=b268a8bf9e1bf14425c743f7149142d6","streamingUri":"/pools/default/bucketsStreaming/company-payment-order?bucket_uuid=b268a8bf9e1bf14425c743f7149142d6","localRandomKeyUri":"/pools/default/buckets/company-payment-order/localRandomKey","controllers":{"flush":"/pools/default/buckets/company-payment-order/controller/doFlush","compactAll":"/pools/default/buckets/company-payment-order/controller/compactBucket","compactDB":"/pools/default/buckets/default/controller/compactDatabases","purgeDeletes":"/pools/default/buckets/company-payment-order/controller/unsafePurgeBucket","startRecovery":"/pools/default/buckets/company-payment-order/controller/startRecovery"},"nodes":[{"couchApiBaseHTTPS":"https://qa-couch-snow.company.tk:18092/company-payment-order%2Bb268a8bf9e1bf14425c743f7149142d6","couchApiBase":"http://qa-couch-snow.company.tk:8092/company-payment-order%2Bb268a8bf9e1bf14425c743f7149142d6","systemStats":{"cpu_utilization_rate":8,"swap_total":0,"swap_used":0,"mem_total":4018991104,"mem_free":2155851776},"interestingStats":{"cmd_get":0,"couch_docs_actual_disk_size":266907088,"couch_docs_data_size":261164142,"couch_views_actual_disk_size":1273778,"couch_views_data_size":654523,"curr_items":10760,"curr_items_tot":10589,"ep_bg_fetched":0,"get_hits":0,"mem_used":259733687,"ops":0,"vb_replica_curr_items":0},"uptime":"2327875","memoryTotal":4018991104,"memoryFree":2155851776,"mcdMemoryReserved":3066,"mcdMemoryAllocated":3066,"replication":0,"clusterMembership":"active","recoveryType":"none","status":"healthy","otpNode":"ns_1@qa-couch-snow.company.tk","thisNode":true,"hostname":"qa-couch-snow.company.tk:8091","clusterCompatibility":196608,"version":"3.0.2-1603-rel-enterprise","os":"x86_64-unknown-linux-gnu","ports":{"sslProxy":11214,"httpsMgmt":18091,"httpsCAPI":18092,"proxy":11211,"direct":11210}}],"stats":{"uri":"/pools/default/buckets/company-payment-order/stats","directoryURI":"/pools/default/buckets/company-payment-order/statsDirectory","nodeStatsListURI":"/pools/default/buckets/company-payment-order/nodes"},"ddocs":{"uri":"/pools/default/buckets/company-payment-order/ddocs"},"nodeLocator":"vbucket","fastWarmupSettings":false,"autoCompactionSettings":false,"uuid":"b268a8bf9e1bf14425c743f7149142d6","vBucketServerMap":{"hashAlgorithm":"CRC","numReplicas":1,"serverList":["qa-couch-snow.company.tk:11210"],"vBucketMap":[]},"replicaNumber":1,"threadsNumber":3,"quota":{"ram":104857600,"rawRAM":104857600},"basicStats":{"quotaPercentUsed":31.700157165527,"opsPerSec":0,"diskFetches":0,"itemCount":48,"diskUsed":13634542,"dataUsed":13553686,"memUsed":33240024},"evictionPolicy":"valueOnly","bucketCapabilitiesVer":"","bucketCapabilities":["cbhello","touch","couchapi","cccp","xdcrCheckpointing","nodesExt"]},{"name":"company-portal","bucketType":"membase","authType":"sasl","saslPassword":"","proxyPort":0,"replicaIndex":false,"uri":"/pools/default/buckets/company-portal?bucket_uuid=fdd67d5da9f56e173255b4aa06bfd2d2","streamingUri":"/pools/default/bucketsStreaming/company-portal?bucket_uuid=fdd67d5da9f56e173255b4aa06bfd2d2","localRandomKeyUri":"/pools/default/buckets/company-portal/localRandomKey","controllers":{"flush":"/pools/default/buckets/company-portal/controller/doFlush","compactAll":"/pools/default/buckets/company-portal/controller/compactBucket","compactDB":"/pools/default/buckets/default/controller/compactDatabases","purgeDeletes":"/pools/default/buckets/company-portal/controller/unsafePurgeBucket","startRecovery":"/pools/default/buckets/company-portal/controller/startRecovery"},"nodes":[{"couchApiBaseHTTPS":"https://qa-couch-snow.company.tk:18092/company-portal%2Bfdd67d5da9f56e173255b4aa06bfd2d2","couchApiBase":"http://qa-couch-snow.company.tk:8092/company-portal%2Bfdd67d5da9f56e173255b4aa06bfd2d2","systemStats":{"cpu_utilization_rate":8,"swap_total":0,"swap_used":0,"mem_total":4018991104,"mem_free":2155851776},"interestingStats":{"cmd_get":0,"couch_docs_actual_disk_size":266907088,"couch_docs_data_size":261164142,"couch_views_actual_disk_size":1273778,"couch_views_data_size":654523,"curr_items":10760,"curr_items_tot":10589,"ep_bg_fetched":0,"get_hits":0,"mem_used":259733687,"ops":0,"vb_replica_curr_items":0},"uptime":"2327875","memoryTotal":4018991104,"memoryFree":2155851776,"mcdMemoryReserved":3066,"mcdMemoryAllocated":3066,"replication":0,"clusterMembership":"active","recoveryType":"none","status":"healthy","otpNode":"ns_1@qa-couch-snow.company.tk","thisNode":true,"hostname":"qa-couch-snow.company.tk:8091","clusterCompatibility":196608,"version":"3.0.2-1603-rel-enterprise","os":"x86_64-unknown-linux-gnu","ports":{"sslProxy":11214,"httpsMgmt":18091,"httpsCAPI":18092,"proxy":11211,"direct":11210}}],"stats":{"uri":"/pools/default/buckets/company-portal/stats","directoryURI":"/pools/default/buckets/company-portal/statsDirectory","nodeStatsListURI":"/pools/default/buckets/company-portal/nodes"},"ddocs":{"uri":"/pools/default/buckets/company-portal/ddocs"},"nodeLocator":"vbucket","fastWarmupSettings":false,"autoCompactionSettings":false,"uuid":"fdd67d5da9f56e173255b4aa06bfd2d2","vBucketServerMap":{"hashAlgorithm":"CRC","numReplicas":1,"serverList":["qa-couch-snow.company.tk:11210"],"vBucketMap":[]},"replicaNumber":1,"threadsNumber":3,"quota":{"ram":104857600,"rawRAM":104857600},"basicStats":{"quotaPercentUsed":32.676048278809,"opsPerSec":0,"diskFetches":0,"itemCount":47,"diskUsed":60337747,"dataUsed":60256953,"memUsed":34263320},"evictionPolicy":"valueOnly","bucketCapabilitiesVer":"","bucketCapabilities":["cbhello","touch","couchapi","cccp","xdcrCheckpointing","nodesExt"]}];
                successCallback(response);
            }
        }

        // TODO:
        function retrieveBucket(){
            // NOT USED
        }

        // TODO:
        function createBucket(){

        }

        // TODO:
        function deleteBucket(){

        }

        function retrieveDocuments(bucketName, skipDocs, limitDocs, startKey, endKey, successCallback, errorCallback){
            var result, successResponse, errorResponse = 'error';

            if(_rejectRetrieveDocuments){
                result = $q.reject(errorResponse);
                errorCallback(errorResponse);
            }
            else{
                successResponse = {"rows":[{"id":"buildConfig","key":"buildConfig","doc":{"meta":{"id":"buildConfig"},"json":{"s3Context":"//company-portal3.s3.amazonaws.com/","s3ContextBuild":"//company-portal-builds.s3.amazonaws.com/","noCacheContext":"//company-portal3.s3.amazonaws.com/","noCacheContextBuild":"//company-portal-builds.s3.amazonaws.com/","containerFileName":"index.html","facebookReferenceParameter":"signed_request","buildMap":{"main":"main-app","fcb":"fcb-app","sth":"sth-app","default":"main-app","widget":"widget-app"}}}},{"id":"channelConfig_10","key":"channelConfig_10","doc":{"meta":{"id":"channelConfig_10"},"json":{"channelId":10,"url":"webatrapalosmokemulti3.0intern","name":"Web Atrapalo Smoke Multi 3.0 Intern","operator":"company","channelType":7,"useRest2":true,"usePortal3":true,"useMultiShoppingCart":true,"useGTM":false,"useCriteo":false,"useIframeMode":false,"useZopimChat":false,"allowPurchaseRetries":true,"allowPrintTickets":false,"includeTaxes":false,"defaultView":0,"currency":"EUR","currencyISO":"978","timeZone":"Europe/Berlin","channelUser":{"username":"integracion@atrapalosmokeint.com","password":"fdbxdfbdxfbfbxfgbfgbxfbxfgb","operator":"company"},"channelEntity":{"name":" Atrapalo Smoke Int","NIF":"4564564564"},"portalBuild":"main"}}},{"id":"channelConfig_11","key":"channelConfig_11","doc":{"meta":{"id":"channelConfig_11"},"json":{"channelId":11,"url":"641","name":"TEST MM641","operator":"company","channelType":7,"useRest2":true,"usePortal3":false,"useMultiShoppingCart":false,"useGTM":false,"useIframeMode":false,"useZopimChat":false,"allowPurchaseRetries":true,"allowPrintTickets":false,"includeTaxes":false,"defaultView":0,"currency":"EUR","currencyISO":"978","timeZone":"Europe/Berlin","channelUser":{"username":"dddd@company.es","password":"xfgxfxfdbxdxdb","operator":"company"}}}},{"id":"channelConfig_12","key":"channelConfig_12","doc":{"meta":{"id":"channelConfig_12"},"json":{"channelId":12,"url":"http://vass.es","name":"Fundacio La Caixa","operator":"company","channelType":7,"useRest2":true,"usePortal3":false,"useMultiShoppingCart":true,"useGTM":false,"useCriteo":false,"useIframeMode":false,"useZopimChat":false,"allowPurchaseRetries":false,"allowPrintTickets":false,"includeTaxes":false,"currency":"EUR","currencyISO":"978","timeZone":"Europe/Berlin","channelUser":{"username":"integracion@integracion.int","password":"zdfbxdbgfncfnfxgncfnfcn","operator":"company"},"channelEntity":{"name":"Fundacio La Caixa","NIF":"5757575756"},"portalBuild":"main","backButtonUrl":""}}},{"id":"channelConfig_13","key":"channelConfig_13","doc":{"meta":{"id":"channelConfig_13"},"json":{"channelId":13,"name":"TaquillavisitaACS","operator":"company","channelType":8,"useRest2":true,"usePortal3":false,"useMultiShoppingCart":false,"useGTM":false,"useIframeMode":false,"useZopimChat":false,"allowPurchaseRetries":false,"allowPrintTickets":false,"includeTaxes":false,"currency":"EUR","currencyISO":"978","timeZone":"Europe/Berlin","channelUser":{},"channelEntity":{"name":"QA-ACS-Entidad06052015","NIF":"F45678902"}}}},{"id":"channelConfig_14","key":"channelConfig_14","doc":{"meta":{"id":"channelConfig_14"},"json":{"channelId":14,"name":"Daves FLC Channel","operator":"company","channelType":8,"useRest2":true,"usePortal3":false,"useMultiShoppingCart":false,"useGTM":false,"useCriteo":false,"useIframeMode":false,"useZopimChat":false,"allowPurchaseRetries":false,"allowPrintTickets":false,"includeTaxes":false,"currency":"EUR","currencyISO":"978","timeZone":"Europe/Berlin","channelUser":{},"channelEntity":{"name":"Fundacio La Caixa","NIF":"F45678901"},"portalBuild":"main","backButtonUrl":""}}},{"id":"channelConfig_16","key":"channelConfig_16","doc":{"meta":{"id":"channelConfig_16"},"json":{"channelId":16,"url":"qasnowfcb3","name":"QaSnowFCB3","operator":"company","channelType":7,"useRest2":true,"usePortal3":true,"useMultiShoppingCart":false,"useGTM":true,"useCriteo":false,"useIframeMode":false,"useZopimChat":false,"allowPurchaseRetries":false,"allowPrintTickets":true,"includeTaxes":false,"defaultView":1,"currency":"EUR","currencyISO":"978","timeZone":"Europe/Berlin","channelUser":{"username":"int_qafcb@companytm.com","password":"cvbfgncncbncgncncncgncvnc","operator":"company"},"channelEntity":{"name":"QA FCB","NIF":"123345"},"portalBuild":"fcb"}}},{"id":"channelConfig_38","key":"channelConfig_38","doc":{"meta":{"id":"channelConfig_38"},"json":{"channelId":38,"url":"canaldave14","name":"canal dave 14","operator":"company","channelType":7,"useRest2":true,"usePortal3":false,"useMultiShoppingCart":false,"useGTM":false,"useCriteo":false,"useIframeMode":false,"useZopimChat":false,"allowPurchaseRetries":false,"allowPrintTickets":false,"includeTaxes":false,"currency":"EUR","currencyISO":"978","timeZone":"Europe/Berlin","channelUser":{"username":"int_entidadgrm@companytm.com","password":"zxdfvbxdbxfncfnbxfbcfbxfbxfb","operator":"company"},"channelEntity":{"name":"Entidad GRM","NIF":"Y5236987A"},"backButtonUrl":""}}},{"id":"channelConfig_40","key":"channelConfig_40","doc":{"meta":{"id":"channelConfig_40"},"json":{"channelId":40,"url":"p3flc","name":"canal p3 flc","operator":"company","channelType":7,"useRest2":true,"usePortal3":true,"useMultiShoppingCart":true,"useGTM":false,"useCriteo":false,"useIframeMode":false,"useZopimChat":false,"allowPurchaseRetries":false,"allowPrintTickets":false,"includeTaxes":false,"currency":"EUR","currencyISO":"978","timeZone":"Europe/Berlin","channelUser":{"username":"integracion@xfbxv.es","password":"zdvxdvxdbcfnc cf ","operator":"company"},"channelEntity":{"name":"Fundacio La Caixa","NIF":"fgfbfgn"}}}},{"id":"channelConfig_41","key":"channelConfig_41","doc":{"meta":{"id":"channelConfig_41"},"json":{"channelId":41,"url":"taquillawebfcb","name":"taquillawebfcb","operator":"company","channelType":10,"useRest2":true,"usePortal3":false,"useMultiShoppingCart":false,"useGTM":true,"useCriteo":false,"useIframeMode":false,"useZopimChat":false,"allowPurchaseRetries":false,"allowPrintTickets":true,"includeTaxes":false,"currency":"EUR","currencyISO":"978","timeZone":"Europe/Berlin","channelUser":{"username":"int_qafcb@companytm.com","password":"cncvngcngvhmncgncgmncn","operator":"company"},"channelEntity":{"name":"QA FCB","NIF":"123345"}}}},{"id":"channelConfig_42","key":"channelConfig_42","doc":{"meta":{"id":"channelConfig_42"},"json":{"channelId":42,"url":"some_url","name":"some new canal","operator":"company","channelType":7,"useRest2":true,"usePortal3":true,"useMultiShoppingCart":true,"useGTM":false,"useCriteo":false,"useIframeMode":false,"useZopimChat":false,"allowPurchaseRetries":false,"allowPrintTickets":false,"includeTaxes":false,"currency":"EUR","currencyISO":"978","timeZone":"Europe/Berlin","channelUser":{"username":"integracion@cncn.es","password":"cngcmnvgcncgncncncn","operator":"company"},"channelEntity":{"name":"Fundacio La Caixa","NIF":"4564646456"}}}},{"id":"channelTrackingTools_17","key":"channelTrackingTools_17","doc":{"meta":{"id":"channelTrackingTools_17"},"json":{"useGTM":true,"gtmConfig":{"accountId":"GTM-XXXYYY","executionService":"rentEcommerceItems","pageViewEventName":"paginaVirtual","customPageViews":{"reprint":"/compra-entrades/reimpressio-entrades","tickets":"/compra-entrades/cartellera-competicions","evento":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/cartellera-partits","validate-cart":"/compra-entrades/validar-cistella","select":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/seleccio-localitats","user-data":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/identificacio-usuari","additional-data":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/dades-adicionals","payment-details":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/confirmacio-seleccio-localitats","gateway":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/passarela-pagament","purchase-confirm":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/compra-confirmada","purchase-error":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/compra-denegada"},"customEventsEventName":"companyEvent","customEvents":{"/promotionalcode/check/done":{"category":null,"action":"entrar-codi-promocional","label":"codi-promocional-ok","value":1},"/promotionalcode/check/fail":{"category":"validacio-ko","action":"entrar-codi-promocional","label":"codi-promocional-ko","value":1},"/userpassword/check/done":{"category":null,"action":"entrar-clau-soci","label":"identificacio-soci-ok","value":1},"/userpassword/check/fail":{"category":null,"action":"entrar-clau-soci","label":"identificacio-soci-ko","value":1},"/confirmorder/payment/done":{"category":"comprar-entrades","action":"anar-passarela-pagament","label":"passarela-pagament-ok","value":1},"/confirmorder/payment/fail":{"category":"comprar-entrades","action":"anar-passarela-pagament","label":"passarela-pagament-ko","value":1},"/ticket/add/fail":{"category":"comprar-entrades","action":"seleccio-localitats","label":"localitats-no-disponibles","value":1},"/order/reprint/ticketsSent":{"category":"boto-enviar-entrades-mail","action":"imprimir-entrades","label":null,"value":1},"/order/reprint/pdfLink":{"category":"link-descarrega","action":"imprimir-entrades","label":null,"value":1}},"customVars":{"ticketingTemporada":"{ticketingTemporada}","ticketingTipusUsuari":"{ticketingTipusUsuari}","seccio":"Entrades","subseccio":"","categoriaSite":"FCB general","ticketingFCBchannel":"{venue}","ticketingEsport":"{eventCategory}","ticketingCompeticio":"{eventTitle}","ticketingPartit":"{ticketingPartit}","ticketingTipusEntrada":"{ticketingTipusEntrada}","idioma":"{language}","plataforma":"company","canal":"{device}"}},"useConversionPixels":true,"conversionPixelsConfig":{"facebook":{"pixelId":"1234567890123","version":"2.0","eventConfig":{"82":{"pixelId":"9876543210987","version":"2.0"},"94":{"pixelId":"1098765432109","version":"2.0"}}},"twitter":{"eventConfig":{"82":{"pixelId":"figkl"}}}},"create_user":"jmhomedes","update_user":"jmhomedes","create_date":"2015-11-02","update_date":"2015-11-06"}}},{"id":"channelTrackingTools_46","key":"channelTrackingTools_46","doc":{"meta":{"id":"channelTrackingTools_46"},"json":{"useGTM":true,"gtmConfig":{"accountId":"GTM-XXXYYY","executionService":"ecommerceItems","eventConfig":{"41":{}},"pageViewEventName":"paginaVirtual","customPageViews":{"reprint":"/compra-entrades/reimpressio-entrades","tickets":"/compra-entrades/cartellera-competicions","evento":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/cartellera-partits","validate-cart":"/compra-entrades/validar-cistella","select":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/seleccio-localitats","user-data":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/identificacio-usuari","additional-data":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/dades-adicionals","payment-details":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/confirmacio-seleccio-localitats","gateway":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/passarela-pagament","purchase-confirm":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/compra-confirmada","purchase-error":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/compra-denegada"},"customEventsEventName":"companyEvent","customEvents":{"/promotionalcode/check/done":{"category":null,"action":"entrar-codi-promocional","label":"codi-promocional-ok","value":1},"/promotionalcode/check/fail":{"category":"validacio-ko","action":"entrar-codi-promocional","label":"codi-promocional-ko","value":1},"/userpassword/check/done":{"category":null,"action":"entrar-clau-soci","label":"identificacio-soci-ok","value":1},"/userpassword/check/fail":{"category":null,"action":"entrar-clau-soci","label":"identificacio-soci-ko","value":1},"/confirmorder/payment/done":{"category":"comprar-entrades","action":"anar-passarela-pagament","label":"passarela-pagament-ok","value":1},"/confirmorder/payment/fail":{"category":"comprar-entrades","action":"anar-passarela-pagament","label":"passarela-pagament-ko","value":1},"/ticket/add/fail":{"category":"comprar-entrades","action":"seleccio-localitats","label":"localitats-no-disponibles","value":1},"/order/reprint/ticketsSent":{"category":"boto-enviar-entrades-mail","action":"imprimir-entrades","label":null,"value":1},"/order/reprint/pdfLink":{"category":"link-descarrega","action":"imprimir-entrades","label":null,"value":1}},"customVars":{"ticketingTemporada":"{ticketingTemporada}","ticketingTipusUsuari":"{ticketingTipusUsuari}","seccio":"Entrades","subseccio":"","categoriaSite":"FCB general","ticketingFCBchannel":"{venue}","ticketingEsport":"{eventCategory}","ticketingCompeticio":"{eventTitle}","ticketingPartit":"{ticketingPartit}","ticketingTipusEntrada":"{ticketingTipusEntrada}","idioma":"{language}","plataforma":"company","canal":"{device}","eventTypology":"{eventTaxonomy}","eventName":"{eventTitle}","eventAndSession":"{eventTitle} - {sessionTitle} - {sessionDateTime}","eventId":"{eventId}"}},"useConversionPixels":true,"conversionPixelsConfig":{"facebook":{"pixelId":"1234567890123","version":"2.0"},"adwords":{"conversionId":"123456789","conversionLabel":"vR4GCLeauGAQ0_n4xAM","conversionLanguage":"en","conversionFormat":"3","conversionColor":"ffffff","conversionCurrency":"EUR","remarketingOnly":false}},"create_user":"jmhomedes","update_user":"jmhomedes","create_date":"2015-11-02","update_date":"2015-11-02"}}},{"id":"channelTrackingTools_52","key":"channelTrackingTools_52","doc":{"meta":{"id":"channelTrackingTools_52"},"json":{"useGTM":true,"gtmConfig":{"accountId":"GTM-XXXYYY","executionService":"ticketeaEcommerceItems","eventConfig":{"41":{}},"pageViewEventName":"paginaVirtual","customPageViews":{"reprint":"/compra-entrades/reimpressio-entrades","tickets":"/compra-entrades/cartellera-competicions","evento":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/cartellera-partits","validate-cart":"/compra-entrades/validar-cistella","select":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/seleccio-localitats","user-data":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/identificacio-usuari","additional-data":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/dades-adicionals","payment-details":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/confirmacio-seleccio-localitats","gateway":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/passarela-pagament","purchase-confirm":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/compra-confirmada","purchase-error":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/compra-denegada"},"customEventsEventName":"companyEvent","customEvents":{"/promotionalcode/check/done":{"category":null,"action":"entrar-codi-promocional","label":"codi-promocional-ok","value":1},"/promotionalcode/check/fail":{"category":"validacio-ko","action":"entrar-codi-promocional","label":"codi-promocional-ko","value":1},"/userpassword/check/done":{"category":null,"action":"entrar-clau-soci","label":"identificacio-soci-ok","value":1},"/userpassword/check/fail":{"category":null,"action":"entrar-clau-soci","label":"identificacio-soci-ko","value":1},"/confirmorder/payment/done":{"category":"comprar-entrades","action":"anar-passarela-pagament","label":"passarela-pagament-ok","value":1},"/confirmorder/payment/fail":{"category":"comprar-entrades","action":"anar-passarela-pagament","label":"passarela-pagament-ko","value":1},"/ticket/add/fail":{"category":"comprar-entrades","action":"seleccio-localitats","label":"localitats-no-disponibles","value":1},"/order/reprint/ticketsSent":{"category":"boto-enviar-entrades-mail","action":"imprimir-entrades","label":null,"value":1},"/order/reprint/pdfLink":{"category":"link-descarrega","action":"imprimir-entrades","label":null,"value":1}},"customVars":{"ticketingTemporada":"{ticketingTemporada}","ticketingTipusUsuari":"{ticketingTipusUsuari}","seccio":"Entrades","subseccio":"","categoriaSite":"FCB general","ticketingFCBchannel":"{venue}","ticketingEsport":"{eventCategory}","ticketingCompeticio":"{eventTitle}","ticketingPartit":"{ticketingPartit}","ticketingTipusEntrada":"{ticketingTipusEntrada}","idioma":"{language}","plataforma":"company","canal":"{device}","eventTypology":"{eventTaxonomy}","eventName":"{eventTitle}","eventAndSession":"{eventTitle} - {sessionTitle} - {sessionDateTime}","eventId":"{eventId}"}},"useConversionPixels":true,"conversionPixelsConfig":{"facebook":{"pixelId":"1234567890123","version":"2.0","eventConfig":{"108":{"pixelId":"9876543210987"}}},"twitter":{"pixelId":"abcde","eventConfig":{"108":{"pixelId":"figkl"}}}},"create_user":"jmhomedes","update_user":"jmhomedes","create_date":"2015-11-02","update_date":"2015-11-02"}}},{"id":"channelTrackingTools_55","key":"channelTrackingTools_55","doc":{"meta":{"id":"channelTrackingTools_55"},"json":{"useGTM":true,"gtmConfig":{"accountId":"GTM-XXXYYY","executionService":"ticketeaEcommerceItems","eventConfig":{"41":{}},"pageViewEventName":"paginaVirtual","customPageViews":{"reprint":"/compra-entrades/reimpressio-entrades","tickets":"/compra-entrades/cartellera-competicions","evento":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/cartellera-partits","validate-cart":"/compra-entrades/validar-cistella","select":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/seleccio-localitats","user-data":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/identificacio-usuari","additional-data":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/dades-adicionals","payment-details":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/confirmacio-seleccio-localitats","gateway":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/passarela-pagament","purchase-confirm":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/compra-confirmada","purchase-error":"/compra-entrades/{eventCategory}/{channelType}/{eventTitle}/{sessionTitle}/compra-denegada"},"customEventsEventName":"companyEvent","customEvents":{"/promotionalcode/check/done":{"category":null,"action":"entrar-codi-promocional","label":"codi-promocional-ok","value":1},"/promotionalcode/check/fail":{"category":"validacio-ko","action":"entrar-codi-promocional","label":"codi-promocional-ko","value":1},"/userpassword/check/done":{"category":null,"action":"entrar-clau-soci","label":"identificacio-soci-ok","value":1},"/userpassword/check/fail":{"category":null,"action":"entrar-clau-soci","label":"identificacio-soci-ko","value":1},"/confirmorder/payment/done":{"category":"comprar-entrades","action":"anar-passarela-pagament","label":"passarela-pagament-ok","value":1},"/confirmorder/payment/fail":{"category":"comprar-entrades","action":"anar-passarela-pagament","label":"passarela-pagament-ko","value":1},"/ticket/add/fail":{"category":"comprar-entrades","action":"seleccio-localitats","label":"localitats-no-disponibles","value":1},"/order/reprint/ticketsSent":{"category":"boto-enviar-entrades-mail","action":"imprimir-entrades","label":null,"value":1},"/order/reprint/pdfLink":{"category":"link-descarrega","action":"imprimir-entrades","label":null,"value":1}},"customVars":{"ticketingTemporada":"{ticketingTemporada}","ticketingTipusUsuari":"{ticketingTipusUsuari}","seccio":"Entrades","subseccio":"","categoriaSite":"FCB general","ticketingFCBchannel":"{venue}","ticketingEsport":"{eventCategory}","ticketingCompeticio":"{eventTitle}","ticketingPartit":"{ticketingPartit}","ticketingTipusEntrada":"{ticketingTipusEntrada}","idioma":"{language}","plataforma":"company","canal":"{device}","eventTypology":"{eventTaxonomy}","eventName":"{eventTitle}","eventAndSession":"{eventTitle} - {sessionTitle} - {sessionDateTime}","eventId":"{eventId}"}},"useConversionPixels":true,"conversionPixelsConfig":{"facebook":{"pixelId":"1234567890123","version":"2.0","eventConfig":{"108":{"pixelId":"9876543210987"}}},"twitter":{"pixelId":"abcde","eventConfig":{"108":{"pixelId":"figkl"}}}},"create_user":"jmhomedes","update_user":"jmhomedes","create_date":"2015-11-02","update_date":"2015-11-02"}}},{"id":"urlMapping","key":"urlMapping","doc":{"meta":{"id":"urlMapping"},"json":{"creation_date":"16-07-2015","update_date":"16-07-2015","creation_user":"jhomedes","update_user":"jhomedes","urlMap":{"trial-gamper":"https://dfgdfnbfn.cloudfront.net/pro/algo/img/festagamper.png"}}}}]};
                successCallback(successResponse);
            }

            return { $promise: result };
        }

        function retrieveDocument(bucketName, documentKey, successCallback, errorCallback){
            var result, successResponse, errorResponse = 'error';

            if(_rejectRetrieveDocument){
                if(_rejectRetrieveDocument === 404){
                    errorResponse = { status: 404 };
                    result = $q.reject(errorResponse);
                    errorCallback(errorResponse);
                }
                else{
                    result = $q.reject(errorResponse);
                    errorCallback(errorResponse);
                }
            }
            else{
                successResponse = {"meta":{"id":"buildConfig","rev":"10-00000644e477e5ff0000000000000000","expiration":0,"flags":0},"json":{"s3Context":"//company-portal3.s3.amazonaws.com/","s3ContextBuild":"//company-portal-builds.s3.amazonaws.com/","noCacheContext":"//company-portal3.s3.amazonaws.com/","noCacheContextBuild":"//company-portal-builds.s3.amazonaws.com/","containerFileName":"index.html","facebookReferenceParameter":"signed_request","buildMap":{"main":"main-app","fcb":"fcb-app","sth":"sth-app","default":"main-app","widget":"widget-app"}}};
                result = $q.when(successResponse);
                successCallback(successResponse);
            }

            return { $promise: result };
        }

        // TODO:
        function createDocument(bucketName, documentKey, content, successCallback, errorCallback){
            var response;

            if(_rejectCreateDocument){
                if(_duplicatedDocumentKey){
                    errorCallback(true);
                }
                else{
                    errorCallback(false);
                }
            }
            else{
                response = {};
                successCallback(response);
            }
        }

        function deleteDocument(bucketName, documentKey, successCallback, errorCallback){
            var response;

            response = {};
            if(_rejectDeleteDocument){
                errorCallback();
            }
            else{
                successCallback(response);
            }
        }

        function updateDocument(bucketName, documentKey, content, successCallback, errorCallback){
            var result, successResponse = [], errorResponse = 'error';

            if(_rejectUpdateDocument){
                result = $q.reject(errorResponse);
                errorCallback(errorResponse);
            }
            else{
                result = $q.when(successResponse);
                successCallback(successResponse);
            }

            return { $promise: result };
        }

        return api;
    }

})();